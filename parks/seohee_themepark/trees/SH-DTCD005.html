<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SH-DTCD005 쨌 ?곗닔??쨌 ?쒗씗?뚮쭏?뚰겕 쨌 THE FORIM</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 24px; color:#111; }
    .topbar { display:flex; flex-wrap:wrap; gap:10px 14px; align-items:center; padding:10px 12px; border:1px solid #ddd; border-radius:10px; }
    .topbar label { display:flex; align-items:center; gap:8px; }
    .topbar input[type="text"] { padding:6px 8px; border:1px solid #ccc; border-radius:6px; min-width: 220px; }
    .topbar input[type="date"] { padding:6px 8px; border:1px solid #ccc; border-radius:6px; }
    .btn { padding:7px 12px; border:1px solid #bbb; border-radius:8px; background:#f7f7f7; cursor:pointer; }
    .btn.primary { background:#e9f7ea; border-color:#6fbf73; }
    .btn.danger { background:#fff0f0; border-color:#e0a0a0; }
    h1 { font-size: 40px; margin: 26px 0 6px; }
    h2 { font-size: 28px; margin: 34px 0 10px; }
    .muted { color:#666; }
    a { color:#0b57d0; text-decoration:none; }
    a:hover { text-decoration:underline; }
    .info-grid { display:grid; grid-template-columns: 160px 1fr; row-gap:10px; column-gap:16px; max-width: 760px; }
    .section { max-width: 980px; }
    .record-box { border:1px solid #e5e5e5; border-radius:12px; padding:14px; max-width: 980px; }
    .record-grid { display:grid; grid-template-columns: 160px 1fr; gap:10px 16px; }
    textarea { width:100%; padding:8px 10px; border:1px solid #ccc; border-radius:8px; }
    .green { background:#4CAF50; border:0; color:white; padding:10px 16px; border-radius:10px; cursor:pointer; }
    .small { font-size: 13px; }
    .saved { color:#0a7a0a; font-weight:600; }
  </style>
</head>
<body>
  <div class="topbar">
    <label>?뱧 怨듭썝紐? <input id="parkName" type="text" value="?쒗씗?뚮쭏?뚰겕" /></label>
    <label>?뫀 議곗궗?먮챸: <input id="surveyor" type="text" placeholder="?? 議곗슫?? /></label>
    <label>?뿎 議곗궗?쇱옄: <input id="surveyDate" type="date" /></label>
    <div style="flex:1 1 auto;"></div>
    <div class="muted">???섏씠吏???섎ぉ 肄붾뱶 (SH-DTCD005)</div>
    <button class="btn" id="saveBtn">?뮶 ???/button>
    <button class="btn danger" id="deleteBtn">?뿊 ??젣</button>
  </div>

  <div style="margin-top: 28px;">THE FORIM</div>
  <h1>?섎ぉ ?곸꽭 ?뺣낫</h1>
  <div class="muted">議곗궗踰덊샇: SH-DTCD005 쨌 ?쒗씗?뚮쭏?뚰겕</div>
  <p style="margin: 14px 0 24px;">
    <a href="/parks/seohee_themepark/">硫붿씤</a> 쨌
    <a href="/parks/seohee_themepark/">?쒗씗?뚮쭏?뚰겕 ?섎ぉ議곗궗??/a>
  </p>

  <div class="section">
    <h2>湲곕낯 ?뺣낫</h2>
    <div class="info-grid">
      <div>議곗궗踰덊샇</div><div>SH-DTCD005</div>
      <div>愿由щ쾲??/div><div>?쒗씗?숆탳?곗닔5</div>
      <div>?깆긽</div><div>?숈뿽援먮ぉ</div>
      <div>?섏쥌紐?/div><div>?곗닔??/div>
      <div>洹쒓꺽</div><div>H2.5*W1.2*B6</div>
      <div>?⑥쐞</div><div>二?/div>
      <div>?섎웾(?ㅺ퀎)</div><div>1.0</div>
      <div>?섎웾(?꾩옣)</div><div></div>
    </div>

    <h2>議곗궗湲곕줉</h2>
    <p class="muted">?꾩옣?먯꽌 ?앹쑁 ?곹깭? ?꾩슂 愿由??댁슜??湲곕줉?섎젮硫??꾨옒 踰꾪듉???뚮윭二쇱꽭??</p>
    <button class="green" id="openRecord">議곗궗湲곕줉</button>
    <p id="saveStatus" class="small"></p>

    <div id="recordArea" style="display:none; margin-top:14px;" class="record-box">
      <div class="record-grid">
        <div>?쒕젰??/div><div><input id="r_vigor" type="text" /></div>
        <div>?섑삎</div><div><input id="r_shape" type="text" /></div>
        <div>怨좎궗吏?좊Т</div><div><input id="r_dead" type="text" /></div>
        <div>湲곗슱湲?/div><div><input id="r_lean" type="text" /></div>
        <div>蹂묓빐異⑹쑀臾?/div><div><input id="r_pest" type="text" /></div>
        <div>吏二쇱긽??/div><div><input id="r_stake" type="text" /></div>
        <div>?좎뼇?곹깭</div><div><input id="r_soil" type="text" /></div>
        <div>?꾩슂愿由щ궡??/div><div><textarea id="r_need" rows="3"></textarea></div>
      </div>
      <div style="display:flex; gap:10px; margin-top:12px;">
        <button class="btn primary" id="saveRecord">湲곕줉 ???/button>
        <button class="btn" id="closeRecord">?リ린</button>
      </div>
      <div class="small muted" style="margin-top:8px;">????湲곕줉? 釉뚮씪?곗? ??μ냼(LocalStorage)????λ맗?덈떎.</div>
    </div>
  </div>

<script>
(function() {
  const PARK_SLUG = "seohee_themepark";
  const CODE = "SH-DTCD005";
  const keyMeta = `qr_meta_${PARK_SLUG}`;
  const keyRecord = `qr_record_${PARK_SLUG}_${CODE}`;

  try {
    const meta = JSON.parse(localStorage.getItem(keyMeta) || "{}");
    if (meta.parkName) document.getElementById("parkName").value = meta.parkName;
    if (meta.surveyor) document.getElementById("surveyor").value = meta.surveyor;
    if (meta.surveyDate) document.getElementById("surveyDate").value = meta.surveyDate;
  } catch(e){}

  const d = document.getElementById("surveyDate");
  if (!d.value) {
    const today = new Date();
    const yyyy = today.getFullYear();
    const mm = String(today.getMonth()+1).padStart(2,'0');
    const dd = String(today.getDate()).padStart(2,'0');
    d.value = `${yyyy}-${mm}-${dd}`;
  }

  function setStatus(msg, ok=true) {
    const el = document.getElementById("saveStatus");
    el.textContent = msg;
    el.className = ok ? "small saved" : "small";
  }

  function saveMeta() {
    const meta = {
      parkName: document.getElementById("parkName").value.trim(),
      surveyor: document.getElementById("surveyor").value.trim(),
      surveyDate: document.getElementById("surveyDate").value
    };
    localStorage.setItem(keyMeta, JSON.stringify(meta));
  }

  function loadRecordToUI() {
    try {
      const r = JSON.parse(localStorage.getItem(keyRecord) || "{}");
      document.getElementById("r_vigor").value = r.vigor || "";
      document.getElementById("r_shape").value = r.shape || "";
      document.getElementById("r_dead").value = r.dead || "";
      document.getElementById("r_lean").value = r.lean || "";
      document.getElementById("r_pest").value = r.pest || "";
      document.getElementById("r_stake").value = r.stake || "";
      document.getElementById("r_soil").value = r.soil || "";
      document.getElementById("r_need").value = r.need || "";
    } catch(e){}
  }

  function saveRecordFromUI() {
    const r = {
      vigor: document.getElementById("r_vigor").value.trim(),
      shape: document.getElementById("r_shape").value.trim(),
      dead: document.getElementById("r_dead").value.trim(),
      lean: document.getElementById("r_lean").value.trim(),
      pest: document.getElementById("r_pest").value.trim(),
      stake: document.getElementById("r_stake").value.trim(),
      soil: document.getElementById("r_soil").value.trim(),
      need: document.getElementById("r_need").value.trim(),
      updatedAt: new Date().toISOString()
    };
    localStorage.setItem(keyRecord, JSON.stringify(r));
  }

  document.getElementById("saveBtn").addEventListener("click", () => {
    saveMeta();
    setStatus("??λ릺?덉뒿?덈떎.");
  });
  document.getElementById("deleteBtn").addEventListener("click", () => {
    if (confirm("???섎ぉ????λ맂 議곗궗湲곕줉????젣?좉퉴??")) {
      localStorage.removeItem(keyRecord);
      setStatus("??젣?섏뿀?듬땲??");
    }
  });

  document.getElementById("openRecord").addEventListener("click", () => {
    document.getElementById("recordArea").style.display = "block";
    loadRecordToUI();
  });
  document.getElementById("closeRecord").addEventListener("click", () => {
    document.getElementById("recordArea").style.display = "none";
  });
  document.getElementById("saveRecord").addEventListener("click", () => {
    saveMeta();
    saveRecordFromUI();
    setStatus("議곗궗湲곕줉????λ릺?덉뒿?덈떎.");
  });
})();
</script>
</body>
</html>
