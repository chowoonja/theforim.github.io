<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SH-DTJS014 Â· ì´íŒë‚˜ë¬´ Â· ì„œí¬í…Œë§ˆíŒŒí¬ Â· THE FORIM</title>
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 24px; color:#111; }
    .topbar { display:flex; flex-wrap:wrap; gap:10px 14px; align-items:center; padding:10px 12px; border:1px solid #ddd; border-radius:10px; }
    .topbar label { display:flex; align-items:center; gap:8px; }
    .topbar input[type="text"] { padding:6px 8px; border:1px solid #ccc; border-radius:6px; min-width: 220px; }
    .topbar input[type="date"] { padding:6px 8px; border:1px solid #ccc; border-radius:6px; }
    .btn { padding:7px 12px; border:1px solid #bbb; border-radius:8px; background:#f7f7f7; cursor:pointer; }
    .btn.primary { background:#e9f7ea; border-color:#6fbf73; }
    .btn.danger { background:#fff0f0; border-color:#e0a0a0; }
    h1 { font-size: 40px; margin: 26px 0 6px; }
    h2 { font-size: 28px; margin: 34px 0 10px; }
    .muted { color:#666; }
    a { color:#0b57d0; text-decoration:none; }
    a:hover { text-decoration:underline; }
    .info-grid { display:grid; grid-template-columns: 160px 1fr; row-gap:10px; column-gap:16px; max-width: 760px; }
    .section { max-width: 980px; }
    .record-box { border:1px solid #e5e5e5; border-radius:12px; padding:14px; max-width: 980px; }
    .record-grid { display:grid; grid-template-columns: 160px 1fr; gap:10px 16px; }
    textarea { width:100%; padding:8px 10px; border:1px solid #ccc; border-radius:8px; }
    .green { background:#4CAF50; border:0; color:white; padding:10px 16px; border-radius:10px; cursor:pointer; }
    .small { font-size: 13px; }
    .saved { color:#0a7a0a; font-weight:600; }
  </style>
</head>
<body>
  <div class="topbar">
    <label>ğŸ“ ê³µì›ëª…: <input id="parkName" type="text" value="ì„œí¬í…Œë§ˆíŒŒí¬" /></label>
    <label>ğŸ‘¤ ì¡°ì‚¬ìëª…: <input id="surveyor" type="text" placeholder="ì˜ˆ: ì¡°ìš´ì" /></label>
    <label>ğŸ—“ ì¡°ì‚¬ì¼ì: <input id="surveyDate" type="date" /></label>
    <div style="flex:1 1 auto;"></div>
    <div class="muted">ì´ í˜ì´ì§€ì˜ ìˆ˜ëª© ì½”ë“œ (SH-DTJS014)</div>
    <button class="btn" id="saveBtn">ğŸ’¾ ì €ì¥</button>
    <button class="btn danger" id="deleteBtn">ğŸ—‘ ì‚­ì œ</button>
  </div>

  <div style="margin-top: 28px;">THE FORIM</div>
  <h1>ìˆ˜ëª© ìƒì„¸ ì •ë³´</h1>
  <div class="muted">ì¡°ì‚¬ë²ˆí˜¸: SH-DTJS014 Â· ì„œí¬í…Œë§ˆíŒŒí¬</div>
  <p style="margin: 14px 0 24px;">
    <a href="/parks/seohee_themepark/">ë©”ì¸</a> Â·
    <a href="/parks/seohee_themepark/">ì„œí¬í…Œë§ˆíŒŒí¬ ìˆ˜ëª©ì¡°ì‚¬í‘œ</a>
  </p>

  <div class="section">
    <h2>ê¸°ë³¸ ì •ë³´</h2>
    <div class="info-grid">
      <div>ì¡°ì‚¬ë²ˆí˜¸</div><div>SH-DTJS014</div>
      <div>ê´€ë¦¬ë²ˆí˜¸</div><div>ì„œí¬ë‚™êµì´íŒ14</div>
      <div>ì„±ìƒ</div><div>ë‚™ì—½êµëª©</div>
      <div>ìˆ˜ì¢…ëª…</div><div>ì´íŒë‚˜ë¬´</div>
      <div>ê·œê²©</div><div>H4.0*B12</div>
      <div>ë‹¨ìœ„</div><div>ì£¼</div>
      <div>ìˆ˜ëŸ‰(ì„¤ê³„)</div><div>1.0</div>
      <div>ìˆ˜ëŸ‰(í˜„ì¥)</div><div></div>
    </div>

    <h2>ì¡°ì‚¬ê¸°ë¡</h2>
    <p class="muted">í˜„ì¥ì—ì„œ ìƒìœ¡ ìƒíƒœì™€ í•„ìš” ê´€ë¦¬ ë‚´ìš©ì„ ê¸°ë¡í•˜ë ¤ë©´ ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</p>
    <button class="green" id="openRecord">ì¡°ì‚¬ê¸°ë¡</button>
    <p id="saveStatus" class="small"></p>

    <div id="recordArea" style="display:none; margin-top:14px;" class="record-box">
      <div class="record-grid">
        <div>í™œë ¥ë„</div><div><input id="r_vigor" type="text" /></div>
        <div>ìˆ˜í˜•</div><div><input id="r_shape" type="text" /></div>
        <div>ê³ ì‚¬ì§€ìœ ë¬´</div><div><input id="r_dead" type="text" /></div>
        <div>ê¸°ìš¸ê¸°</div><div><input id="r_lean" type="text" /></div>
        <div>ë³‘í•´ì¶©ìœ ë¬´</div><div><input id="r_pest" type="text" /></div>
        <div>ì§€ì£¼ìƒíƒœ</div><div><input id="r_stake" type="text" /></div>
        <div>í† ì–‘ìƒíƒœ</div><div><input id="r_soil" type="text" /></div>
        <div>í•„ìš”ê´€ë¦¬ë‚´ìš©</div><div><textarea id="r_need" rows="3"></textarea></div>
      </div>
      <div style="display:flex; gap:10px; margin-top:12px;">
        <button class="btn primary" id="saveRecord">ê¸°ë¡ ì €ì¥</button>
        <button class="btn" id="closeRecord">ë‹«ê¸°</button>
      </div>
      <div class="small muted" style="margin-top:8px;">â€» ì´ ê¸°ë¡ì€ ë¸Œë¼ìš°ì € ì €ì¥ì†Œ(LocalStorage)ì— ì €ì¥ë©ë‹ˆë‹¤.</div>
    </div>
  </div>

<script>
(function() {
  const PARK_SLUG = "seohee_themepark";
  const CODE = "SH-DTJS014";
  const keyMeta = `qr_meta_${PARK_SLUG}`;
  const keyRecord = `qr_record_${PARK_SLUG}_${CODE}`;

  try {
    const meta = JSON.parse(localStorage.getItem(keyMeta) || "{}");
    if (meta.parkName) document.getElementById("parkName").value = meta.parkName;
    if (meta.surveyor) document.getElementById("surveyor").value = meta.surveyor;
    if (meta.surveyDate) document.getElementById("surveyDate").value = meta.surveyDate;
  } catch(e){}

  const d = document.getElementById("surveyDate");
  if (!d.value) {
    const today = new Date();
    const yyyy = today.getFullYear();
    const mm = String(today.getMonth()+1).padStart(2,'0');
    const dd = String(today.getDate()).padStart(2,'0');
    d.value = `${yyyy}-${mm}-${dd}`;
  }

  function setStatus(msg, ok=true) {
    const el = document.getElementById("saveStatus");
    el.textContent = msg;
    el.className = ok ? "small saved" : "small";
  }

  function saveMeta() {
    const meta = {
      parkName: document.getElementById("parkName").value.trim(),
      surveyor: document.getElementById("surveyor").value.trim(),
      surveyDate: document.getElementById("surveyDate").value
    };
    localStorage.setItem(keyMeta, JSON.stringify(meta));
  }

  function loadRecordToUI() {
    try {
      const r = JSON.parse(localStorage.getItem(keyRecord) || "{}");
      document.getElementById("r_vigor").value = r.vigor || "";
      document.getElementById("r_shape").value = r.shape || "";
      document.getElementById("r_dead").value = r.dead || "";
      document.getElementById("r_lean").value = r.lean || "";
      document.getElementById("r_pest").value = r.pest || "";
      document.getElementById("r_stake").value = r.stake || "";
      document.getElementById("r_soil").value = r.soil || "";
      document.getElementById("r_need").value = r.need || "";
    } catch(e){}
  }

  function saveRecordFromUI() {
    const r = {
      vigor: document.getElementById("r_vigor").value.trim(),
      shape: document.getElementById("r_shape").value.trim(),
      dead: document.getElementById("r_dead").value.trim(),
      lean: document.getElementById("r_lean").value.trim(),
      pest: document.getElementById("r_pest").value.trim(),
      stake: document.getElementById("r_stake").value.trim(),
      soil: document.getElementById("r_soil").value.trim(),
      need: document.getElementById("r_need").value.trim(),
      updatedAt: new Date().toISOString()
    };
    localStorage.setItem(keyRecord, JSON.stringify(r));
  }

  document.getElementById("saveBtn").addEventListener("click", () => {
    saveMeta();
    setStatus("ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
  });
  document.getElementById("deleteBtn").addEventListener("click", () => {
    if (confirm("ì´ ìˆ˜ëª©ì˜ ì €ì¥ëœ ì¡°ì‚¬ê¸°ë¡ì„ ì‚­ì œí• ê¹Œìš”?")) {
      localStorage.removeItem(keyRecord);
      setStatus("ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.");
    }
  });

  document.getElementById("openRecord").addEventListener("click", () => {
    document.getElementById("recordArea").style.display = "block";
    loadRecordToUI();
  });
  document.getElementById("closeRecord").addEventListener("click", () => {
    document.getElementById("recordArea").style.display = "none";
  });
  document.getElementById("saveRecord").addEventListener("click", () => {
    saveMeta();
    saveRecordFromUI();
    setStatus("ì¡°ì‚¬ê¸°ë¡ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.");
  });
})();
</script>
</body>
</html>