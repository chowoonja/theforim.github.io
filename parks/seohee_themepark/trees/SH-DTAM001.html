<!DOCTYPE html>

<html lang="ko">
<head>
<meta charset="utf-8"/>
<title>SH-DTAM001 쨌 ?쒗씗?뚮쭏?뚰겕 쨌 THE FORIM</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<link href="/assets/style.css" rel="stylesheet"/>
</head>
<body>

<!-- ======= 議곗궗 ?뺣낫 ?낅젰 ?곸뿭 (蹂듯븯2 ?ㅽ??? ======= -->
<div style="border:1px solid #ddd; padding:12px; margin-bottom:16px; background:#f9f9f9; border-radius:6px;">
  <label><b>?뱧 怨듭썝紐?</b></label>
  <input id="parkName" type="text" value="?쒗씗?뚮쭏?뚰겕" readonly
         style="width:200px; margin:6px; background:#fff; border:1px solid #ddd; border-radius:6px;"/><br/>

  <label><b>?뫀 議곗궗?먮챸:</b></label>
  <input id="surveyorName" placeholder="?? 媛?쒕꼫" style="width:200px; margin:6px;" type="text"/><br/>

  <label><b>?뿎 議곗궗?쇱옄:</b></label>
  <input id="surveyDate" style="margin:6px;" type="date"/><br/><br/>

  ???섏씠吏???섎ぉ 肄붾뱶 (SH-DTAM001)
  <input id="treeCode" type="hidden" value="SH-DTAM001"/>

  <button onclick="saveHeaderInfo()">?뮶 ???/button>
  <button onclick="clearHeaderInfo()" style="margin-left:10px;">?뿊 ??젣</button>
</div>

<header class="site-header">
  <div class="logo-mark">THE FORIM</div>
  <div class="brand-text">
    <h1>?섎ぉ ?곸꽭 ?뺣낫</h1>
    <p>議곗궗踰덊샇: SH-DTAM001 쨌 ?쒗씗?뚮쭏?뚰겕</p>
  </div>
</header>

<main class="container">
  <nav style="margin: 1rem 0 1.5rem; font-size: 0.9rem;">
    <a href="/">硫붿씤</a> 쨌
    <a href="/parks/seohee_themepark/">?쒗씗?뚮쭏?뚰겕 ?섎ぉ議곗궗??/a>
  </nav>

  <section class="card">
    <h2 style="margin-top: 0;">湲곕낯 ?뺣낫</h2>
    <dl style="display: grid; grid-template-columns: 120px 1fr; row-gap: 0.35rem; margin: 0;">
      <dt>議곗궗踰덊샇</dt><dd>SH-DTAM001</dd>
      <dt>愿由щ쾲??/dt><dd>?쒗씗?숆탳怨듭옉1</dd>
      <dt>?깆긽</dt><dd>?숈뿽援먮ぉ</dd>
      <dt>?섏쥌紐?/dt><dd>怨듭옉?⑦뭾</dd>
      <dt>洹쒓꺽</dt><dd>H2.0*B8</dd>
      <dt>?⑥쐞</dt><dd>二?/dd>
      <dt>?섎웾(?ㅺ퀎)</dt><dd>1.0</dd>
      <dt>?섎웾(?꾩옣)</dt><dd></dd>
    </dl>
  </section>

  <section class="card" style="margin-top: 1.5rem;">
    <h2 style="margin-top: 0;">議곗궗湲곕줉</h2>
    <p style="margin-bottom: 0.8rem;">
      ?꾩옣?먯꽌 ?앹쑁 ?곹깭? ?꾩슂 愿由??댁슜??湲곕줉?섎젮硫??꾨옒 踰꾪듉???뚮윭二쇱꽭??
    </p>

    <!-- ??蹂듯븯2泥섎읆: 留곹겕???덉뼱?? ?대┃ ??JS媛 ?꾨━??URL 留뚮뱾?댁꽌 ????쑝濡???-->
    <a class="btn-old-record"
       href="https://docs.google.com/forms/d/e/1FAIpQLSdgujOIV9bKAUyOAot7AoysT4UWBrrIKkQbIgWirDtZjaapQA/viewform?usp=pp_url&entry.939121262=%EC%84%9C%ED%9D%AC%ED%85%8C%EB%A7%88%ED%8C%8C%ED%81%AC&entry.253024248=SH-DTAM001"
       id="openFormBtn"
       style="
          display: inline-block;
          padding: 0.7rem 1.4rem;
          border-radius: 6px;
          background: #4caf50;
          color: #fff;
          text-decoration: none;
          font-weight: 600;
          font-size: 0.95rem;
        "
       target="_blank">議곗궗 湲곕줉</a>
  </section>

  <section class="card" style="margin-top: 1.5rem;">
    <h2 style="margin-top: 0;">?앹쑁 諛?愿由??곹깭</h2>
    <dl style="display: grid; grid-template-columns: 120px 1fr; row-gap: 0.35rem; margin: 0;">
      <dt>?쒕젰??/dt><dd></dd>
      <dt>?섑삎</dt><dd></dd>
      <dt>怨좎궗吏 ?좊Т</dt><dd></dd>
      <dt>湲곗슱湲?/dt><dd></dd>
      <dt>蹂묓빐異??좊Т</dt><dd></dd>
      <dt>吏二??곹깭</dt><dd></dd>
      <dt>?좎뼇 ?곹깭</dt><dd></dd>
      <dt>?꾩슂 愿由??댁슜</dt><dd></dd>
    </dl>
  </section>

  <section class="card" style="margin-top: 1.5rem;">
    <h2 style="margin-top: 0;">QR 肄붾뱶</h2>
    <p style="font-size: 0.9rem; color: #555;">
      ?꾨옒 QR 肄붾뱶?????섏씠吏濡??곌껐?⑸땲?? ?꾩옣 ?쒖같???몄뇙?섏뿬 遺李⑺븯?몄슂.
    </p>
    <img alt="SH-DTAM001 QR 肄붾뱶"
         src="/parks/seohee_themepark/qr/SH-DTAM001.png"
         style="width: 150px; height: 150px; object-fit: contain; background:#fff; border-radius:0.6rem; border:1px solid #dde3dd;"/>
    <p style="font-size:0.85rem; color:#666;">
      ?뚯씪 ?꾩튂: <code>/parks/seohee_themepark/qr/SH-DTAM001.png</code><br/>
      ?섏씠吏 URL: <code>https://theforim.com/parks/seohee_themepark/trees/SH-DTAM001.html</code>
    </p>
  </section>

  <section class="card" style="margin-top:1.5rem;">
    <h2 style="margin-top:0;">?ъ쭊 諛?湲곕줉</h2>
    <p style="font-size:0.9rem; color:#555;">
      ?쒓났 ?꽷룹쨷쨌???ъ쭊? 怨듭슜 ?대뜑????ν븯怨?
      ?뚯씪紐낆뿉 <strong>SH-DTAM001</strong>瑜??ы븿??二쇱꽭??<br/>
      ?? SH-DTAM001_before.jpg, SH-DTAM001_after.jpg
    </p>
  </section>

</main>

<footer class="site-footer">
  <small>짤 THE FORIM 쨌 Tree ID: SH-DTAM001</small>
</footer>

<!-- ===== 議곗궗 ?뺣낫 localStorage ???遺덈윭?ㅺ린 ?ㅽ겕由쏀듃 (蹂듯븯2 諛⑹떇 洹몃?濡? ===== -->
<script>
  const file = location.pathname.split("/").pop().split(".")[0]; // ?뚯씪紐낆뿉???섎ぉ 肄붾뱶 異붿텧
  const KEY_PARK = `park-${file}`;
  const KEY_INV  = `inv-${file}`;
  const KEY_DATE = `date-${file}`;

  function saveHeaderInfo() {
    localStorage.setItem(KEY_PARK, "?쒗씗?뚮쭏?뚰겕");
    localStorage.setItem(KEY_INV,  document.getElementById("surveyorName").value);
    localStorage.setItem(KEY_DATE, document.getElementById("surveyDate").value);
    alert("????꾨즺 ??);
  }

  function loadHeaderInfo() {
    document.getElementById("parkName").value = "?쒗씗?뚮쭏?뚰겕";
    document.getElementById("surveyorName").value = localStorage.getItem(KEY_INV)  || "";
    document.getElementById("surveyDate").value   = localStorage.getItem(KEY_DATE) || "";
  }

  function clearHeaderInfo() {
    if (confirm("??젣?좉퉴??")) {
      localStorage.removeItem(KEY_PARK);
      localStorage.removeItem(KEY_INV);
      localStorage.removeItem(KEY_DATE);
      loadHeaderInfo();
      if (!document.getElementById("parkName").value) { document.getElementById("parkName").value = "?쒗씗?뚮쭏?뚰겕"; }
    }
  }
</script>

<!-- ===== 援ш????먮룞 梨꾩슦湲?& ?닿린 ?ㅽ겕由쏀듃 (?쒗씗 entry 踰덊샇 ?곸슜) ===== -->
<script>
  window.addEventListener('DOMContentLoaded', function () {
    loadHeaderInfo();
    if (!document.getElementById("parkName").value) { document.getElementById("parkName").value = "?쒗씗?뚮쭏?뚰겕"; }

    // ???쒗씗?뚮쭏?뚰겕 援ш???(?ъ슜???쒓났 URL 湲곗?)
    const FORM_BASE_URL = 'https://docs.google.com/forms/d/e/1FAIpQLSdgujOIV9bKAUyOAot7AoysT4UWBrrIKkQbIgWirDtZjaapQA/viewform?usp=pp_url';

    // ???쒗씗 ??entry 肄붾뱶 (?ъ슜???쒓났: 怨듭썝紐??섎ぉ肄붾뱶)
    const ENTRY_PARK_NAME = 'entry.939121262';   // 怨듭썝紐?
    const ENTRY_TREE_CODE = 'entry.253024248';   // ?섎ぉ肄붾뱶(愿由щ쾲??

    // ??議곗궗??議곗궗?쇱옄??蹂듯븯2?먯꽌 ?곕뜕 entry瑜?洹몃?濡??좎? (?쇱뿉???숈씪 吏덈Ц?대㈃ 洹몃?濡??숈옉)
    const ENTRY_SURVEYOR    = 'entry.2066724387'; // 議곗궗?먮챸
    const ENTRY_SURVEY_DATE = 'entry.2016295766'; // 議곗궗?쇱옄

    const btn = document.getElementById('openFormBtn');
    if (!btn) return;

    btn.addEventListener('click', function (e) {
      e.preventDefault();

      const parkName   = document.getElementById('parkName').value.trim();
      const surveyor   = document.getElementById('surveyorName').value.trim();
      const surveyDate = document.getElementById('surveyDate').value;  // YYYY-MM-DD
      const treeCode   = document.getElementById('treeCode').value;

      if (!parkName || !surveyor || !surveyDate) {
        alert('怨듭썝紐? 議곗궗?먮챸, 議곗궗?쇱옄瑜?癒쇱? ?낅젰??二쇱꽭??');
        return;
      }

      const params = new URLSearchParams();
      params.set(ENTRY_PARK_NAME,   parkName);
      params.set(ENTRY_SURVEYOR,    surveyor);
      params.set(ENTRY_SURVEY_DATE, surveyDate);
      params.set(ENTRY_TREE_CODE,   treeCode);

      const finalUrl = FORM_BASE_URL + '&' + params.toString();
      window.open(finalUrl, '_blank');
    });
  });
</script>

</body>
</html>
